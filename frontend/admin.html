<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OCR CRM - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</title>
    <link rel="stylesheet" href="/static/admin.css">
</head>
<body>
    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Login Page -->
    <div class="login-container" id="loginPage">
        <div class="login-box">
            <h1>OCR CRM</h1>
            <p>–í–æ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</p>
            <form id="loginForm">
                <div class="form-group">
                    <label for="password">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="password" name="password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
                </div>
                <button type="submit" class="btn btn-primary">
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"/>
                    </svg>
                    –í–æ–π—Ç–∏
                </button>
            </form>
        </div>
    </div>

    <!-- Admin Panel -->
    <div class="admin-container" id="adminPanel">
        <!-- Header -->
        <header class="header">
            <h1>üìä –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h1>
            <div class="header-actions">
                <a href="/" class="btn btn-outline btn-small">
                    <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                    –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ
                </a>
                <button class="btn btn-outline btn-small" onclick="logout()">
                    <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                    </svg>
                    –í—ã–π—Ç–∏
                </button>
            </div>
        </header>

        <!-- Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <h3>–í—Å–µ–≥–æ –∑–∞—è–≤–æ–∫</h3>
                <div class="value" id="totalCount">0</div>
            </div>
            <div class="stat-card success">
                <h3>–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ AMO</h3>
                <div class="value" id="sentCount">0</div>
            </div>
            <div class="stat-card warning">
                <h3>–û–∂–∏–¥–∞—é—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏</h3>
                <div class="value" id="pendingCount">0</div>
            </div>
        </div>

        <!-- Table Section -->
        <div class="table-section">
            <div class="table-header">
                <h2>–°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫</h2>
                <div class="table-controls">
                    <input type="text" class="search-input" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ –§–ò–û...">
                    <select class="filter-select" id="filterSelect">
                        <option value="">–í—Å–µ –∑–∞—è–≤–∫–∏</option>
                        <option value="false">–ù–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã</option>
                        <option value="true">–û—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã</option>
                    </select>
                    <button class="btn btn-success btn-small" onclick="sendAllToAmo()">
                        <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                        </svg>
                        –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –ê–ú–û
                    </button>
                    <button class="btn btn-outline btn-small" onclick="loadStudents()">
                        <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                        </svg>
                        –û–±–Ω–æ–≤–∏—Ç—å
                    </button>
                </div>
            </div>

            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>–¢–∏–ø –∑–∞—è–≤–∫–∏</th>
                            <th>–§–ò–û</th>
                            <th>–®–∫–æ–ª–∞</th>
                            <th>–ö–ª–∞—Å—Å</th>
                            <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                            <th>–î–∞—Ç–∞</th>
                            <th>–°—Ç–∞—Ç—É—Å</th>
                            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                        </tr>
                    </thead>
                    <tbody id="studentsTable">
                        <!-- Data will be loaded here -->
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <div class="pagination">
                <button id="prevPage" onclick="changePage(-1)">‚Üê –ù–∞–∑–∞–¥</button>
                <span id="pageInfo">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1</span>
                <button id="nextPage" onclick="changePage(1)">–í–ø–µ—Ä–µ–¥ ‚Üí</button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal-overlay" id="deleteModal">
        <div class="modal">
            <h2>–£–¥–∞–ª–∏—Ç—å –∑–∞—è–≤–∫—É?</h2>
            <p>–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å. –ó–∞—è–≤–∫–∞ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∞ –Ω–∞–≤—Å–µ–≥–¥–∞.</p>
            <div class="modal-actions">
                <button class="btn btn-outline" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-danger" id="confirmDelete">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="/static/admin.js"></script>
</body>
</html>

